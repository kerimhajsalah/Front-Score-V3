<div class="header">
    <h1 class="header-title">
        Statistiques de la Plateforme
    </h1>
   
</div>

<div class="row">
    <div class="col-lg-12  d-flex">
        <div class="w-100">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="card" routerLink="/admin/doctors" style="cursor: pointer;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col mt-0">
                                    <h5 class="card-title">Professionnel de santé</h5>
                                </div>

                                <div class="col-auto">
                                    <div class="avatar">
                                        <div class="avatar-title rounded-circle bg-primary-dark text-center">
                                            <i  class=" align-middle  fa fa-user-md" ></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h1 class="display-5 mt-2 mb-4">{{doctors?.length}}</h1>
                            <div class="mb-0">
                                <span class="text-danger"> <i class="mdi mdi-arrow-bottom-right"></i></span>
                                Tous les professionnels de santé actifs
                            </div>
                        </div>
                    </div>
                  
                </div>

               
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="card" routerLink="/admin/patients" style="cursor: pointer;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col mt-0">
                                    <h5 class="card-title">Patients</h5>
                                </div>

                                <div class="col-auto">
                                    <div class="avatar">
                                        <div class="avatar-title rounded-circle bg-primary-dark text-center">
                                            <i  class=" align-middle  fa fa-user-injured" ></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h1 class="display-5 mt-2 mb-4">{{patients?.length}}</h1>
                            <div class="mb-0">
                                <span class="text-success"> <i class="mdi mdi-arrow-bottom-right"></i> </span>
                                Tous les patients actifs
                            </div>
                        </div>
                    </div>
               
                </div>
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="card" style="cursor: pointer;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col mt-0">
                                    <h5 class="card-title">Formulaires Affecter</h5>
                                </div>

                                <div class="col-auto">
                                    <select id="gender" style="border-color: #2469ce!important;height: 41px;" (change)="getFormsbyId($event.target.value)">
                                        <option >
                                             Professionnel de Santé
                                    </option>
                                        <option *ngFor="let doctor of doctors"  [(value)]="doctor._id">
                                   
                                                {{doctor.name}} 
                                  
                                        </option>
                                      </select>
                                </div>
                            </div>
                            <div *ngIf="!spinerFormulaireAff" class="spinner-border" role="status">
  
                            </div>
                            <h1 class="display-5 mt-2 mb-4">{{numberFormulAff}}</h1>
                            <div class="mb-0">
                                <span class="text-success"> <i class="mdi mdi-arrow-bottom-right"></i> </span>
                                Nombres Formulaires Affecter
                            </div>
                        </div>
                    </div>
               
                </div>
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="card" routerLink="/admin/forms" style="cursor: pointer;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col mt-0">
                                    <h5 class="card-title">Formulaires</h5>
                                </div>

                                <div class="col-auto">
                                    <div class="avatar">
                                        <div class="avatar-title rounded-circle bg-primary-dark text-center">
                                            <i  class=" align-middle  fa fa-align-left" ></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="!spinerFormulaire" class="spinner-border" role="status">
  
                            </div>
                            <h1 class="display-5 mt-2 mb-4">{{forms?.length}}</h1>
                            <div class="mb-0">
                                <span class="text-success"> <i class="mdi mdi-arrow-bottom-right"></i> </span>
                                Total des formulaires
                            </div>
                        </div>
                    </div>
                </div>
          
            </div>
        </div>
    </div>


    <div class="col-lg-6  d-flex">
        <div class="card w-100">
            <select   (change)="makeDoctorStatData($event.target.value)" style="width: 100px; margin-left: auto;margin-top: 12px;margin-right: 12px;">
              
                <option  *ngFor="let value of years" [ngValue]="value" [selected]="value === currentYear">{{value}}</option>
               

            </select>
            <canvas baseChart 
             
                [datasets]="lineChartData" 
                [labels]="lineChartLabels" 
                [options]="lineChartOptions"
                [colors]="lineChartColors" 
                [legend]="lineChartLegend" 
                [chartType]="lineChartType" 
                [plugins]="lineChartPlugins">
             </canvas>
        </div>
      </div>



      <div class="col-lg-6  d-flex">
        <div class="card w-100">
            <select   (change)="makePatientStatData($event.target.value)" style="width: 100px; margin-left: auto;margin-top: 12px;margin-right: 12px;">
              
                <option  *ngFor="let value of years" [ngValue]="value" [selected]="value === currentYear">{{value}}</option>
               

            </select>
            <canvas baseChart 
                [datasets]="lineChartDataP" 
                [labels]="lineChartLabelsP" 
                [options]="lineChartOptionsP"
                [colors]="lineChartColorsP" 
                [legend]="lineChartLegendP" 
                [chartType]="lineChartTypeP" 
                [plugins]="lineChartPluginsP">
             </canvas>
        </div>
      </div>
      <div class="col-lg-6  d-flex">
        <div class="card w-100">
            <select   (change)="makeFormulaireStatData($event.target.value)" style="width: 100px; margin-left: auto;margin-top: 12px;margin-right: 12px;">
              
                <option  *ngFor="let value of years" [ngValue]="value" [selected]="value === currentYear">{{value}}</option>
               

            </select>
            <canvas baseChart 
                [datasets]="lineChartDataF" 
                [labels]="lineChartLabelsF" 
                [options]="lineChartOptionsF"
                [colors]="lineChartColorsF" 
                [legend]="lineChartLegendF" 
                [chartType]="lineChartTypeF" 
                [plugins]="lineChartPluginsF">
             </canvas>
        </div>
      </div> 
      <div class="col-lg-6  d-flex">
        <div class="card w-100">
            <select   (change)="makeFormulaireStatDatatAll($event.target.value)" style="width: 100px; margin-left: auto;margin-top: 12px;margin-right: 12px;">
              
                <option  *ngFor="let value of years" [ngValue]="value" [selected]="value === currentYear">{{value}}</option>
               

            </select>
            <canvas baseChart 
                [datasets]="lineChartDataFT" 
                [labels]="lineChartLabelsFT" 
                [options]="lineChartOptionsFT"
                [colors]="lineChartColorsFT" 
                [legend]="lineChartLegendFT" 
                [chartType]="lineChartTypeFT" 
                [plugins]="lineChartPluginsFT">
             </canvas>
        </div>
      </div> 
    </div>